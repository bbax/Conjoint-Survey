<head>
<style>
table.conjoint_table{border-collapse:collapse; border:1px solid black; }
table.conjoint_table th{border-collapse:collapse; border:1px solid black; padding:5px; text-align: center; }
table.conjoint_table td{border-collapse:collapse; border:1px solid black; padding:5px; }
td.center {	text-align: center; }
</style>
</head>

<span><b>Scenario 2 out of 5</b></span>

<!--Create HTML table-->
<font size="3">
<table width="90%" class="conjoint_table">
  <col width="170">
  <col width="25">
  <col width="25">
  <tbody><tr>
  <th><br></th>
  <th><b>Candidate C</b></th>
  <th><b>Candidate D</b></th>
  </tr>
<!--Create Placeholders for dimensions names (e.g., "att1") -->
<!--Create Placeholders for Candidate traits (e.g., "a1" for first Candidate, "b1" for second Candidate) -->
  <tr>
  <td id="att1"><br></td>
  <td class="center" id="a1"><br></td>
  <td class="center" id="b1"><br></td>
  </tr>
  <tr>
  <td id="att2"><br></td>
  <td class="center" id="a2"><br></td>
  <td class="center" id="b2"><br></td>
  </tr>
  <tr>
  <td id="att3"><br></td>
  <td class="center" id="a3"><br></td>
  <td class="center" id="b3"><br></td>
  </tr>
  <tr>
  <td id="att4"><br></td>
  <td class="center" id="a4"><br></td>
  <td class="center" id="b4"><br></td>
  </tr>
  <tr>
  <td id="att5"><br></td>
  <td class="center" id="a5"><br></td>
  <td class="center" id="b5"><br></td>
  </tr>
  <tr>
  <td id="att6"><br></td>
  <td class="center" id="a6"><br></td>
  <td class="center" id="b6"><br></td>
  </tr>
  <tr>
  <td id="att7"><br></td>
  <td class="center" id="a7"><br></td>
  <td class="center" id="b7"><br></td>
  </tr>
  <tr>
  <td id="att8"><br></td>
  <td class="center" id="a8"><br></td>
  <td class="center" id="b8"><br></td>
  </tr>
  <tr>
  <td id="att9"><br></td>
  <td class="center" id="a9"><br></td>
  <td class="center" id="b9"><br></td>
  </tr>
  <tr>
  <td id="att10"><br></td>
  <td class="center" id="a10"><br></td>
  <td class="center" id="b10"><br></td>
  </tr>
  </tbody></table>
</font>

 
<script>

// Read in Dimension Order from first module. Maintain this order across modules
var str = "${q://QID122/ChoiceTextEntryValue/21}"; 
//var str = "Political Party,Really cares about other people,Honest,Treats everyone equally,Loyal,Respects authority,Sexually faithful to his wife,Disgusted by homosexuality,Competent,Experienced";
var attributes=str.split(","); 



// Create Variables for Traits associated with each dimension.
var pid_raw = ["Republican","Democrat","Independent"];
var care_raw = ["Yes","No"];
var honesty_raw = ["Yes","No"];
var egal_raw = ["Yes","No"];
var authority_raw = ["Yes","No"];
var loyalty_raw = ["Yes","No"];
var purity1_raw = ["Yes","No"];
var purity2_raw = ["Yes","No"];
var competence_raw = ["Yes","No"];
var experience_raw = ["Yes","No"];
	
	
	

//Use math.random to randomly select traits for each dimension for both candidates.
var pid_a = pid_raw[Math.floor(Math.random()*pid_raw.length)];
var care_a = care_raw[Math.floor(Math.random()*care_raw.length)];
var honesty_a = honesty_raw[Math.floor(Math.random()*honesty_raw.length)];
var egal_a = egal_raw[Math.floor(Math.random()*egal_raw.length)];
var authority_a = authority_raw[Math.floor(Math.random()*authority_raw.length)];
var loyalty_a = loyalty_raw[Math.floor(Math.random()*loyalty_raw.length)];
var purity1_a = purity1_raw[Math.floor(Math.random()*purity1_raw.length)];
var purity2_a = purity2_raw[Math.floor(Math.random()*purity2_raw.length)];
var competence_a = competence_raw[Math.floor(Math.random()*competence_raw.length)];
var experience_a = experience_raw[Math.floor(Math.random()*experience_raw.length)];

var pid_b = pid_raw[Math.floor(Math.random()*pid_raw.length)];
var care_b = care_raw[Math.floor(Math.random()*care_raw.length)];
var honesty_b = honesty_raw[Math.floor(Math.random()*honesty_raw.length)];
var egal_b = egal_raw[Math.floor(Math.random()*egal_raw.length)];
var authority_b = authority_raw[Math.floor(Math.random()*authority_raw.length)];
var loyalty_b = loyalty_raw[Math.floor(Math.random()*loyalty_raw.length)];
var purity1_b = purity1_raw[Math.floor(Math.random()*purity1_raw.length)];
var purity2_b = purity2_raw[Math.floor(Math.random()*purity2_raw.length)];
var competence_b = competence_raw[Math.floor(Math.random()*competence_raw.length)];
var experience_b = experience_raw[Math.floor(Math.random()*experience_raw.length)];



// Create array for first and second candidate's traits
var att_a_traits = [1,2,3,4,5,6,7,8,9,10];
var att_b_traits = [1,2,3,4,5,6,7,8,9,10];

// Take indexOf the Dimension variable. This is the order of the Dimension variable
var pid_index = attributes.indexOf("Political Party");
var care_index = attributes.indexOf("Really cares about other people");
var honesty_index = attributes.indexOf("Honest");
var egal_index = attributes.indexOf("Treats everyone equally");
var authority_index = attributes.indexOf("Loyal");
var loyalty_index = attributes.indexOf("Respects authority");
var purity1_index = attributes.indexOf("Sexually faithful to his wife");
var purity2_index = attributes.indexOf("Disgusted by homosexuality");
var competence_index = attributes.indexOf("Competent");
var experience_index = attributes.indexOf("Experienced");


// Use IndexOf Dimension and replace with appropriate trait for Candidate A
// For instance, if "Gender" is the 3rd element in the Dimension variable, 
//this will place Male/Female as the 3rd element of the first candidate's attributes.

att_a_traits[pid_index] = pid_a;
att_a_traits[care_index] = care_a;
att_a_traits[honesty_index] = honesty_a;
att_a_traits[egal_index] = egal_a;
att_a_traits[authority_index] = authority_a;
att_a_traits[loyalty_index] = loyalty_a;
att_a_traits[purity1_index] = purity1_a;
att_a_traits[purity2_index] = purity2_a;
att_a_traits[competence_index] = competence_a;
att_a_traits[experience_index] = experience_a;


// Do the same for the second candidate
att_b_traits[pid_index] = pid_b;
att_b_traits[care_index] = care_b;
att_b_traits[honesty_index] = honesty_b;
att_b_traits[egal_index] = egal_b;
att_b_traits[authority_index] = authority_b;
att_b_traits[loyalty_index] = loyalty_b;
att_b_traits[purity1_index] = purity1_b;
att_b_traits[purity2_index] = purity2_b;
att_b_traits[competence_index] = competence_b;
att_b_traits[experience_index] = experience_b;


// Create list of variables in the for loop
att_list = ["att1","att2","att3","att4","att5","att6","att7","att8","att9","att10"];
a_list = ["a1","a2","a3","a4","a5","a6","a7","a8","a9","a10"]; 
b_list = ["b1","b2","b3","b4","b5","b6","b7","b8","b9","b10"]; 

// Assign traits and background colors to the table cells
for(i=0;i<10;i++){
	document.getElementById(att_list[i]).innerHTML= attributes[i];
	document.getElementById(a_list[i]).innerHTML = att_a_traits[i];    
	document.getElementById(b_list[i]).innerHTML = att_b_traits[i];
	if (att_a_traits[i] != att_b_traits[i]) {
		document.getElementById(att_list[i]).style.backgroundColor = "#CEE3F6";
		document.getElementById(a_list[i]).style.backgroundColor = "#CEE3F6";
		document.getElementById(b_list[i]).style.backgroundColor = "#CEE3F6";
	}
}
</script>